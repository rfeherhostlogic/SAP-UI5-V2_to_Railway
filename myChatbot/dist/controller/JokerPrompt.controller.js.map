{"version":3,"file":"JokerPrompt.controller.js","names":["sap","ui","define","Controller","MessageToast","AiService","ODataModel","JSONModel","Column","Text","ColumnListItem","VizFrame","FlattenedDataset","DimensionDefinition","MeasureDefinition","FeedItem","extend","onInit","this","getOwnerComponent","getRouter","getRoute","attachPatternMatched","_onRouteMatched","onGenerate","async","_runGenerate","onSend","onDummy5FileChange","oEvent","oModel","getView","getModel","aFiles","getParameter","oFile","show","setProperty","oUpload","uploadDummy5Pdf","docToken","fileName","name","oError","message","onRunDummy5Summary","sDocToken","getProperty","trim","oResult","summarizeDummy5","summary","onRunDummy5Ask","sQuestion","askDummy5","question","answer","onRunDummy7Compare","sCompanyA","sCompanyB","sFocus","charAt","length","runDummy7Compare","companyA","companyB","focus","_downloadDummy7Pdf","blob","onRunDummy4","sSchemaHint","_resetDummy4Chart","_resetDummy4LocalChart","_rebindDummy4PreviewTable","runDummy4","schemaHint","generatedSql","rows","_renderDummy4LocalChart","onRefreshDummy4SchemaHint","oResp","getDummy4SchemaHint","onCancel","_resetDummy5State","_resetDummy7State","navTo","menuKey","sJokerId","jokerId","aTiles","oSelected","find","oTile","id","oFileUploader","byId","clear","oBlob","sFileName","sUrl","URL","createObjectURL","oLink","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","aRows","oHost","aColumns","_extractDummy4Columns","aNumericCols","_findNumericColumns","sMeasure","sDimension","sCol","aChartRows","map","oRow","oCopy","Object","assign","_toNumberOrNull","bind","oDataset","dimensions","value","measures","data","path","oViz","width","height","vizType","dataset","setModel","addFeed","uid","type","values","setVizProperties","title","visible","legend","plotArea","dataLabel","addItem","removeAllItems","filter","bSeen","bAllNumeric","forEach","vValue","isFinite","sTrimmed","nValue","Number","oTable","unbindItems","removeAllColumns","sColName","addColumn","header","text","aCells","wrapping","oTemplate","cells","bindItems","template","templateShareable","mSeen","aCols","keys","sKey","indexOf","push","_bindDummy4SmartChart","sChartToken","oSmartChart","that","sServiceUrl","encodeURIComponent","oChartModel","useBatch","attachMetadataLoaded","setChartType","_rebindDummy4SmartChartSafely","attachMetadataFailed","isInitialised","rebindChart","attachInitialise","destroy","bUseSystemPrompt","oJoker","sInput","sResult","generate","systemPrompt","inputText"],"sources":["JokerPrompt-dbg.controller.js"],"mappings":"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","ignoreList":[]}