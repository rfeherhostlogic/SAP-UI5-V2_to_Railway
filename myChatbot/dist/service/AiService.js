sap.ui.define([],function(){"use strict";function n(n){if(!n){return"Ures valasz erkezett."}if(typeof n==="string"){return n}if(n.message){return n.message}if(n.answer){return n.answer}if(n.text){return n.text}return JSON.stringify(n,null,2)}function t(n){var t=[];if(n.systemPrompt){t.push("System utasitas:\n"+n.systemPrompt)}t.push("Joker tipus: "+n.title);t.push("Felhasznaloi szoveg:\n"+n.inputText);return t.join("\n\n")}function e(e){return fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t(e),history:[]})}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()}).then(function(t){return n(t)})}function r(n){return fetch("/api/jokers/dummy4",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:n.question,schemaHint:n.schemaHint})}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function o(){return fetch("/api/jokers/dummy4/schema-hint",{method:"GET"}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function i(n){var t=new FormData;t.append("file",n);return fetch("/api/jokers/dummy5/upload",{method:"POST",body:t}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function s(n){return fetch("/api/jokers/dummy5/summarize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({docToken:n.docToken})}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function a(n){return fetch("/api/jokers/dummy5/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({docToken:n.docToken,question:n.question})}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function u(n){return fetch("/api/jokers/dummy7/compare",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({companyA:n.companyA,companyB:n.companyB,focus:n.focus||""})}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}var t=n.headers.get("Content-Disposition")||"";var e=/filename=\"?([^\";]+)\"?/i.exec(t);return n.blob().then(function(n){return{blob:n,fileName:e&&e[1]?e[1]:"dummy7_osszehasonlitas.pdf"}})})}function h(){return fetch("/api/discovery/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function c(n){return fetch("/api/discovery/spec-chat/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({use_case:n.use_case})}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function f(n){return fetch("/api/discovery/spec-chat/answer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:n.session_id,answer:n.answer})}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function d(n){return fetch("/api/discovery/training/spec",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:n.session_id})}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function p(n){return fetch("/api/discovery/training/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:n.session_id})}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function m(n){return fetch("/api/discovery/training/status/"+encodeURIComponent(n.job_id),{method:"GET"}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function y(n){return fetch("/api/discovery/training/result/"+encodeURIComponent(n.job_id),{method:"GET"}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function w(n,t){return fetch("/api/noah/router",{method:"POST",headers:{"Content-Type":"application/json"},signal:t||undefined,body:JSON.stringify({user_message:n.user_message||"",attachments:n.attachments||[],history:n.history||[]})}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function g(n,t){return fetch("/api/noah/cards/"+encodeURIComponent(n),{method:"GET",signal:t||undefined}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function l(n){return fetch("/api/noah/cards",{method:"GET",signal:n||undefined}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function T(n,t){return fetch("/api/noah/prefill-card",{method:"POST",headers:{"Content-Type":"application/json"},signal:t||undefined,body:JSON.stringify({card_id:n.card_id,user_message:n.user_message||"",attachments:n.attachments||[]})}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function j(n,t){return fetch("/api/noah/run-card",{method:"POST",headers:{"Content-Type":"application/json"},signal:t||undefined,body:JSON.stringify({card_id:n.card_id,user_message:n.user_message||"",field_values:n.field_values||{},attachments:n.attachments||[]})}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}function b(n,t){return fetch("/api/noah/chat",{method:"POST",headers:{"Content-Type":"application/json"},signal:t||undefined,body:JSON.stringify({message:n.message||"",attachments:n.attachments||[],history:n.history||[]})}).then(function(n){if(!n.ok){return n.text().then(function(n){throw new Error("API hiba: "+n)})}return n.json()})}return{generate:e,runDummy4:r,getDummy4SchemaHint:o,uploadDummy5Pdf:i,summarizeDummy5:s,askDummy5:a,runDummy7Compare:u,runDiscovery:h,discoverySpecChatStart:c,discoverySpecChatAnswer:f,discoveryGenerateTrainingSpec:d,discoveryStartTraining:p,discoveryGetTrainingStatus:m,discoveryGetTrainingResult:y,noahRoute:w,noahListCards:l,noahPrefillCard:T,noahGetCardConfig:g,noahRunCard:j,noahChat:b}});
//# sourceMappingURL=AiService.js.map